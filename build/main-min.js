var creativeId="HTMLResponsiveRichMediaBanner",creativeVersion="1.1.0",lastModified="2017-02-07",lastUploaded="2017-02-07",templateVersion="2.0.24",templateName="cf_deluxe_banner_mobile_flex_xl_video_1x1_"+creativeVersion+"_6266",scrollPos={x:void 0,y:void 0},adId,rnd,uid,isMobile=/Mobi/i.test(navigator.userAgent),videoContainer,video,isIOS=/iPhone|iPad|iPod/i.test(navigator.userAgent),isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),videoIsPlaying=!1,autoPlayMuted=!1,UI_whileAutoPlay=!1,elemsAnimatingArray=[],USE_RESIZE_LISTENER=!1,isInView=null,custScriptMraidViewabilityListenerID=null,custScriptMraidViewabilityDataAvailable=null,creativeConfigObj={portraitFitStyle:"fullWidth",boarderColor:null,floodColor:"#fff",backgroundImageURL:"images/bg.jpg",logo:{logoURL:"images/logo.png"},copy:{headline:{copy:"THE X7",color:"#FFF"},description:{copy:"Make every day legendary",color:"#FFF"}},cta:{copy:"EXPLORE NOW",color:"#FFF",borderColor:"#FFF"},video:{aspectRatio:"2:3",srcURL:"videos/2_3Ratio.mp4",backgroundColor:null,controlsColor:null,controlsBackgroundColor:null,autoPlay:!1,thirdPartyQuartileTrackingPxls:{start:{pxl:""},q1:{pxl:""},q2:{pxl:""},q3:{pxl:""},complete:{pxl:""}}}},listenerQueue,creativeIFrameId;function checkIfAdKitReady(e){try{if(window.localPreview)return void adkit.onReady(function(){window.initializeLocalPreview(),USE_RESIZE_LISTENER=!0,initializeCreative()});window.localPreview=!1}catch(e){window.localPreview=!1}window.adkit?adkit.onReady(initializeCreative):initializeCreative()}function initializeCreative(e){var t=document.querySelector('meta[name="viewport"]');t.setAttribute("content","width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=0"),window.setTimeout(function(e){t.setAttribute("content","width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=0")},500),"object"==typeof Modernizr&&(Modernizr.touch=Modernizr.touch||"ontouchstart"in window),EBG.pm.bind("sendCreativeId",function(){eventManager.apply(this,arguments)},this),EBG.pm.bind("eventCallback",function(){eventManager.apply(this,arguments)},this),initializeGlobalVariables(),setCreativeVersion(),!0===localPreview&&runCreative()}function runCreative(){setCreativeElements(),addEventListeners(),positionCreativeElements(),window.setTimeout(function(e){document.getElementById("adWrapper").style.visibility="visible",document.getElementById("adWrapper").style.opacity="1",positionCreativeElements()},250)}function initializeGlobalVariables(){adId=EB._adConfig.adId,rnd=EB._adConfig.rnd,uid=EB._adConfig.uid}function setCreativeElements(){if(sizeContentArea(null),isIOS&&centerWebkitVideoControls(),videoContainer=document.getElementById("video-container"),document.getElementById("adWrapper").style.backgroundColor=creativeConfigObj.floodColor,""!==creativeConfigObj.boarderColor&&null!==creativeConfigObj.boarderColor)for(var e=document.getElementsByClassName("contentBorder"),t=0;t<e.length;t++)e[t].style.display="block",e[t].style.backgroundColor=creativeConfigObj.boarderColor;""!==creativeConfigObj.video.srcURL&&null!==creativeConfigObj.video.srcURL&&(setUpVideo(creativeConfigObj.video.srcURL,creativeConfigObj.video.aspectRatio),moveOnStageFadeIn(document.getElementById("playBtn")),"9:16"===creativeConfigObj.video.aspectRatio&&(document.getElementById("pauseBtn").classList.add("altPos"),document.getElementById("muteBtn").classList.add("altPos"),document.getElementById("unmuteBtn").classList.add("altPos")),""!==creativeConfigObj.video.backgroundColor&&null!==creativeConfigObj.video.backgroundColor&&(document.getElementById("video-container").style.backgroundColor=creativeConfigObj.video.backgroundColor,document.getElementById("video").style.backgroundColor=creativeConfigObj.video.backgroundColor),""!==creativeConfigObj.video.controlsColor&&null!==creativeConfigObj.video.controlsColor&&(document.getElementById("playBtn").style.borderColor=creativeConfigObj.video.controlsColor,document.getElementById("playBtnArrow").style.borderLeftColor=creativeConfigObj.video.controlsColor,document.getElementById("pauseBtnLineRight").style.backgroundColor=creativeConfigObj.video.controlsColor,document.getElementById("pauseBtnLineLeft").style.backgroundColor=creativeConfigObj.video.controlsColor,document.getElementById("mute").style.borderColor=creativeConfigObj.video.controlsColor,document.getElementById("unmute").style.borderColor=creativeConfigObj.video.controlsColor),""!==creativeConfigObj.video.controlsBackgroundColor&&null!==creativeConfigObj.video.controlsBackgroundColor&&(document.getElementById("playBtn").style.backgroundColor=creativeConfigObj.video.controlsBackgroundColor,document.getElementById("mute").style.backgroundColor=creativeConfigObj.video.controlsBackgroundColor,document.getElementById("unmute").style.backgroundColor=creativeConfigObj.video.controlsBackgroundColor)),document.getElementById("mobileBgImg").style.backgroundImage="url("+creativeConfigObj.backgroundImageURL+")",""!==creativeConfigObj.logo.logoURL&&null!==creativeConfigObj.logo.logoURL&&(document.getElementById("mobileLogo").getElementsByTagName("img")[0].src=creativeConfigObj.logo.logoURL,document.getElementById("mobileLogo").style.display="block"),""!==creativeConfigObj.cta.copy&&null!==creativeConfigObj.cta.copy&&(""!==creativeConfigObj.cta.color&&null!==creativeConfigObj.cta.color&&(document.getElementById("mobileCtaCopy").style.color=creativeConfigObj.cta.color),""!==creativeConfigObj.cta.borderColor&&null!==creativeConfigObj.cta.borderColor&&(document.getElementById("mobileCta").style.borderColor=creativeConfigObj.cta.borderColor),document.getElementById("mobileCtaCopy").innerHTML=creativeConfigObj.cta.copy,document.getElementById("mobileCta").style.display="block"),""!==creativeConfigObj.copy.headline.copy&&null!==creativeConfigObj.copy.headline.copy&&(document.getElementById("mobileHeadlineCopy").innerHTML=creativeConfigObj.copy.headline.copy,""!==creativeConfigObj.copy.headline.color&&null!==creativeConfigObj.copy.headline.color&&(document.getElementById("mobileHeadlineCopy").style.color=creativeConfigObj.copy.headline.color),document.getElementById("bgGrad").style.display="block",document.getElementById("mobileHeadlineCopy").style.display="block"),""!==creativeConfigObj.copy.description.copy&&null!==creativeConfigObj.copy.description.copy&&(document.getElementById("mobileDescriptorCopy").innerHTML=creativeConfigObj.copy.description.copy,""!==creativeConfigObj.copy.description.color&&null!==creativeConfigObj.copy.description.color&&(document.getElementById("mobileDescriptorCopy").style.color=creativeConfigObj.copy.description.color),document.getElementById("bgGrad").style.display="block",document.getElementById("mobileDescriptorCopy").style.display="block")}function sizeContentArea(e){var t=document.getElementById("adWrapper"),i=t.offsetWidth,o=t.offsetHeight,n=document.getElementById("adContainer"),a=document.getElementById("contentContainer"),r=i,d=Math.round(1.5*i),l=e&&void 0!==e.sfGeomObj?e.sfGeomObj.win.w:window.innerWidth,c=e&&void 0!==e.sfGeomObj?e.sfGeomObj.win.h:window.innerHeight,s=window.orientation||null,u=c<=l||90===s||-90===s?"land":"port",m,g;g=o<d?(m=Math.round(.66666*o),o):(m=r,d),n.style.width="port"===u&&"fullWidth"===creativeConfigObj.portraitFitStyle?"100%":m+"px",document.getElementById("videoControlsContainer").style.width=m+"px",n.style.height=g+"px",a.style.height=g+"px"}function setUpVideo(e,t){var i=-1===e.slice(-6).indexOf(".")?e:e.substring(0,e.lastIndexOf(".")),o=creativeConfigObj.video.autoPlay,n=creativeConfigObj.video.thirdPartyQuartileTrackingPxls;n.start.tracked=!1,n.q1.tracked=!1,n.q2.tracked=!1,n.q3.tracked=!1,n.complete.tracked=!1,document.getElementById("video-container").innerHTML='<video id="video" webkit-playsinline playsinline'+(!0===o?" autoplay muted":"")+"></video>",video=document.getElementById("video"),videoTrackingModule=new EBG.VideoModule(video),addVideoListeners(video),!0===o&&(autoPlayMuted=!0,addViewabilityListener(),video.addEventListener("play",onVideoAutoPlayFirstStart,!1),document.getElementById("contentContainer").addEventListener("mousedown",onUI_whileAutoPlay,!1),video.oncanplay=function(){video.play()}),video.innerHTML+='<source src="'+i+'.mp4" type="video/mp4" />',video.innerHTML+='<source src="'+i+'.webm" type="video/webm" />',video.innerHTML+='<source src="'+i+'.ogg" type="video/ogg" />',video.innerHTML+="Your browser does not support the <code>video</code> element."}function positionCreativeElements(){verticalyAlignText(document.getElementById("mobileCtaCopy"))}function addEventListeners(){!0===USE_RESIZE_LISTENER&&window.addEventListener("resize",sizeContentArea,!1),document.addEventListener("webkitAnimationStart",function(e){addElemToAnimTrackingAry(e.target)},!1),document.addEventListener("animationstart",function(e){addElemToAnimTrackingAry(e.target)},!1),document.addEventListener("webkitAnimationEnd",function(e){addElemToAnimTrackingAry(e.target)},!1),document.addEventListener("animationend",function(e){removeElemToAnimTrackingAry(e.target)},!1),document.getElementById("mobileCta").addEventListener("click",onCtaClk,!1),document.getElementById("mobileLogo").addEventListener("click",onLogoClk,!1),document.getElementById("mobileCopyContainer").addEventListener("click",onMessagingClk,!1);for(var e=document.getElementsByClassName("genClk"),t=0;t<e.length;t++)e[t].addEventListener("click",onBgClk,!1);""!==creativeConfigObj.video.srcURL&&null!==creativeConfigObj.video.srcURL&&(document.getElementById("playBtn").addEventListener("click",onVideoPlayClk,!1),document.getElementById("pauseBtn").addEventListener("click",onVideoPauseClk,!1),!0===creativeConfigObj.video.autoPlay&&(document.getElementById("unmuteBtn").addEventListener("click",onVideoUnmuteClk,!1),document.getElementById("muteBtn").addEventListener("click",onVideoMuteClk,!1)))}function addVideoListeners(e){e.addEventListener("play",onVideoPlay,!1),e.addEventListener("pause",onVideoPause,!1),e.addEventListener("play",thirdPartyQuartileTracking,!1),e.addEventListener("pause",thirdPartyQuartileTracking,!1),e.addEventListener("ended",thirdPartyQuartileTracking,!1),e.addEventListener("timeupdate",thirdPartyQuartileTracking,!1)}function addViewabilityListener(){!0===custScriptMraidViewabilityDataAvailable?custScriptMraidViewabilityListenerID=addCustomScriptEventListener("viewabilityChange",onVisibilityUpdate):EB.addEventListener(EBG.EventName.VISIBILITY,onVisibilityUpdate)}function removeViewabilityListener(){!0===custScriptMraidViewabilityDataAvailable?(removeCustomScriptEventListener(custScriptMraidViewabilityListenerID),custScriptMraidViewabilityListenerID=null):EB.removeEventListener(EBG.EventName.VISIBILITY,onVisibilityUpdate)}function showVideoPlayState(){videoContainer.style.visibility="visible",""!==creativeConfigObj.cta.copy&&null!==creativeConfigObj.cta.copy&&moveOnStageFadeIn(videoContainer,document.getElementById("mobileCta")),(""!==creativeConfigObj.copy.headline.copy&&null!==creativeConfigObj.copy.headline.copy||""!==creativeConfigObj.copy.description.copy&&null!==creativeConfigObj.copy.description.copy)&&fadeOutMoveOffStage(document.getElementById("mobileCopyContainer")),""!==creativeConfigObj.logo.logoURL&&null!==creativeConfigObj.logo.logoURL&&fadeOutMoveOffStage(document.getElementById("mobileLogo")),!0===creativeConfigObj.video.autoPlay&&(!1===video.muted?moveOnStageFadeIn(document.getElementById("muteBtn")):moveOnStageFadeIn(document.getElementById("unmuteBtn")))}function hideVideoPlayState(){(""!==creativeConfigObj.copy.headline.copy&&null!==creativeConfigObj.copy.headline.copy||""!==creativeConfigObj.copy.description.copy&&null!==creativeConfigObj.copy.description.copy)&&moveOnStageFadeIn(document.getElementById("mobileCopyContainer")),""!==creativeConfigObj.logo.logoURL&&null!==creativeConfigObj.logo.logoURL&&moveOnStageFadeIn(document.getElementById("mobileLogo")),""!==creativeConfigObj.cta.copy&&null!==creativeConfigObj.cta.copy&&fadeOutMoveOffStage(videoContainer,document.getElementById("mobileCta")),!0===creativeConfigObj.video.autoPlay&&fadeOutMoveOffStage(document.getElementById("unmuteBtn"),document.getElementById("muteBtn"))}function togglePlayPauseBtn(){!0===videoIsPlaying?(fadeOutMoveOffStage(document.getElementById("playBtn")),moveOnStageFadeIn(document.getElementById("pauseBtn"))):(fadeOutMoveOffStage(document.getElementById("pauseBtn")),moveOnStageFadeIn(document.getElementById("playBtn")))}function toggleMuteUnmuteBtn(){!1===video.muted?(fadeOutMoveOffStage(document.getElementById("unmuteBtn")),moveOnStageFadeIn(document.getElementById("muteBtn"))):(fadeOutMoveOffStage(document.getElementById("muteBtn")),moveOnStageFadeIn(document.getElementById("unmuteBtn")))}function addElemToAnimTrackingAry(e){-1===elemsAnimatingArray.indexOf(e)&&elemsAnimatingArray.push(e)}function removeElemToAnimTrackingAry(e){-1!==elemsAnimatingArray.indexOf(e)&&removeArryElem(elemsAnimatingArray,e)}function fastCompleteAllActiveCSSAnim(){for(var e=0;e<elemsAnimatingArray.length;e++)fastCompleteCSSAnim(elemsAnimatingArray[e])}function centerWebkitVideoControls(){document.body.classList.add("ios-center-video-controls")}function pauseVideo(){video&&video.pause()}function muteVideo(){(video.muted=!0)===creativeConfigObj.video.autoPlay&&toggleMuteUnmuteBtn()}function unmuteVideo(){!0===autoPlayMuted&&(autoPlayMuted=!1,removeViewabilityListener()),!(video.muted=!1)===creativeConfigObj.video.autoPlay&&toggleMuteUnmuteBtn()}function updateVideoStatePerCurrentViewability(){!0!==localPreview&&(!0===isInView&&!1===videoIsPlaying&&!0===autoPlayMuted&&!1===UI_whileAutoPlay?video.play():!0!==isInView&&!0===videoIsPlaying&&!0===autoPlayMuted&&!1===UI_whileAutoPlay&&video.pause())}function onUI_whileAutoPlay(e){UI_whileAutoPlay=!0,document.getElementById("contentContainer").removeEventListener("mousedown",onUI_whileAutoPlay,!1)}function onVideoAutoPlayFirstStart(e){video.removeEventListener("play",onVideoAutoPlayFirstStart,!1),updateVideoStatePerCurrentViewability()}function onVisibilityUpdate(e){var t=isInView;(isInView=readVisibilityData(e))!==t&&updateVideoStatePerCurrentViewability()}function readVisibilityData(e){var t=null;if(!0===custScriptMraidViewabilityDataAvailable)t=e.isViewable;else try{50<EB._visibilityData.percentage?t=!0:EB._visibilityData.percentage<50&&(t=!1)}catch(e){}return t}function onVideoPlayClk(e){!0===autoPlayMuted&&(autoPlayMuted=!1,removeViewabilityListener(),unmuteVideo()),video.play()}function onVideoPauseClk(e){video.pause()}function onVideoMuteClk(e){muteVideo()}function onVideoUnmuteClk(e){unmuteVideo()}function onVideoPlay(e){videoIsPlaying=!0,togglePlayPauseBtn(),showVideoPlayState()}function onVideoPause(e){videoIsPlaying=!1,togglePlayPauseBtn(),hideVideoPlayState()}function thirdPartyQuartileTracking(e){var t,i,o=e.target.currentTime/e.target.duration*100,n=creativeConfigObj.video.thirdPartyQuartileTrackingPxls;switch(e.type){case"play":n.start.tracked||r(n.start);break;case"timeupdate":!n.q1.tracked&&25<=o?r(n.q1):!n.q2.tracked&&50<=o?r(n.q2):!n.q3.tracked&&75<=o&&r(n.q3);break;case"ended":r(n.complete),a(n)}function a(e){e.start.tracked=!1,e.q1.tracked=!1,e.q2.tracked=!1,e.q3.tracked=!1,e.complete.tracked=!1}function r(e){e.tracked=!0,""!==e.pxl&&null!==e.pxl&&fire1x1Pixel(e.pxl)}}function onCtaClk(e){pauseVideo(),window.setTimeout(function(e){fastCompleteAllActiveCSSAnim(),EB.clickthrough("CTA_Click")},50)}function onLogoClk(e){pauseVideo(),window.setTimeout(function(e){fastCompleteAllActiveCSSAnim(),EB.clickthrough("Logo_Click")},50)}function onMessagingClk(e){pauseVideo(),EB.clickthrough("Messaging_Click"),window.setTimeout(function(e){fastCompleteAllActiveCSSAnim()},50)}function onBgClk(e){pauseVideo(),EB.clickthrough("Background_Click"),window.setTimeout(function(e){fastCompleteAllActiveCSSAnim()},50)}function chcekInitialVCDispatch(e){removeCustomScriptEventListener(custScriptMraidViewabilityListenerID),custScriptMraidViewabilityListenerID=null,custScriptMraidViewabilityDataAvailable=e.isMRAID,isInView=readVisibilityData(e),runCreative()}function verticalyAlignText(e){var t=e.parentNode.offsetHeight,i=e.offsetHeight,o=Math.floor((t-i)/2)+"px";e.style.marginTop=o}function moveOnStageFadeIn(e){for(var t=0;t<arguments.length;t++)arguments[t].style.WebkitAnimation="moveOnStageFadeIn .25s ease forwards",arguments[t].style.animation="moveOnStageFadeIn .25s ease forwards"}function fadeOutMoveOffStage(e){for(var t=0;t<arguments.length;t++)arguments[t].style.WebkitAnimation="fadeOutMoveOffStage .25s ease forwards",arguments[t].style.animation="fadeOutMoveOffStage .25s ease forwards"}function fastCompleteCSSAnim(e){for(var t=0;t<arguments.length;t++)arguments[t].style.WebkitAnimationDelay="1ms",arguments[t].style.animationDelay="1ms",arguments[t].style.WebkitAnimationDuration="1ms",arguments[t].style.animationDuration="1ms"}function removeArryElem(e,t){var i=e.indexOf(t);-1!==i&&e.splice(i,1)}function fire1x1Pixel(e){var t;!1===localPreview?(new Image).src=e:console.log(""+e)}function setCreativeVersion(){sendMessage("setCreativeVersion",{creativeId:creativeId+" - "+templateName,creativeVersion:creativeVersion,creativeLastModified:lastModified,uid:uid})}function onPageScroll(e){scrollPos.x=e.scrollXPercent,scrollPos.y=e.scrollYPercent}function sendMessage(e,t){t.type||(t.type=e),EB._sendMessage(e,t)}function addCustomScriptEventListener(e,t,i){listenerQueue=listenerQueue||{};var o={uid:uid,listenerId:Math.ceil(1e9*Math.random()),eventName:e,interAd:!!i,creativeIFrameId:creativeIFrameId};return sendMessage("addCustomScriptEventListener",o),o.callback=t,(listenerQueue[o.listenerId]=o).listenerId}function dispatchCustomScriptEvent(e,t){(t=t||{}).uid=uid,t.eventName=e,t.creativeIFrameId=creativeIFrameId,sendMessage("dispatchCustomScriptEvent",t)}function removeCustomScriptEventListener(e){var t;sendMessage("removeCustomScriptEventListener",{uid:uid,listenerId:e,creativeIFrameId:creativeIFrameId}),listenerQueue[e]&&delete listenerQueue[e]}function eventManager(e){var t;if((t="object"==typeof e&&e.data?JSON.parse(e.data):{type:e.type,data:e}).type&&t.data&&(!uid||t.data.uid&&t.data.uid==uid))switch(t.type){case"sendCreativeId":creativeIFrameId=t.data.creativeIFrameId,addCustomScriptEventListener("pageScroll",onPageScroll),addCustomScriptEventListener("creativeResize",sizeContentArea),custScriptMraidViewabilityListenerID=addCustomScriptEventListener("viewabilityChange",chcekInitialVCDispatch),sendMessage("dispatchScrollPos",{uid:uid}),creativeContainerReady&&creativeContainerReady();break;case"eventCallback":for(var i=t.data.listenerIds,o=i.length,n=0;n<o;n++)try{var a=listenerQueue[i[n]];if(!a)continue;a.callback(t.data)}catch(e){}}}window.addEventListener("load",checkIfAdKitReady);